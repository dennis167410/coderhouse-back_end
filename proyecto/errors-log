{"level":"error","message":"Erroreee:  error is not defined","stack":"ReferenceError: error is not defined\n    at getUserById (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:27:38)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/middleware/handle-policies.middleware.js:23:16\n    at strategy.success (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\passport\\lib\\middleware\\authenticate.js:222:18)\n    at verified (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\passport-jwt\\lib\\strategy.js:115:41)\n    at JwtStrategy._verify (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/config/passport.config.js:37:28)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\passport-jwt\\lib\\strategy.js:123:34\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\jsonwebtoken\\verify.js:97:14)"}
{"level":"error","message":"Error "}
{"level":"error","message":"Error "}
{"level":"error","message":"Error usuario no encontrado o id no es válido."}
{"level":"error","message":"Error al intentar eliminar el usuario. "}
{"level":"error","message":"Error al intentar eliminar el usuario. "}
{"level":"error","message":"Error, no se pudo agregar el carrito al usuario."}
{"level":"error","message":"Error, no se pudo agregar el carrito al usuario."}
{"level":"error","message":"Error, no se pudo agregar el carrito al usuario."}
{"level":"error","message":"Error, no se pudo agregar el carrito al usuario."}
{"level":"error","message":"Error, no se pudo agregar el carrito al usuario."}
{"level":"error","message":"Error  error is not defined","stack":"ReferenceError: error is not defined\n    at createProduct (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/product.controller.js:57:65)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error  error is not defined","stack":"ReferenceError: error is not defined\n    at createProduct (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/product.controller.js:57:65)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error al buscar el producto. El producto no existe."}
{"level":"error","message":"Error,  CastError: Cast to ObjectId failed for value \"65ceb99486869118617b2cefeee\" (type string) at path \"_id\" for model \"products\"","stack":"Error: CastError: Cast to ObjectId failed for value \"65ceb99486869118617b2cefeee\" (type string) at path \"_id\" for model \"products\"\n    at ProductManager.updateProduct (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/dao/managers/ProductManager.js:135:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateProduct (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/product.controller.js:206:25)"}
{"level":"error","message":"Error,  product is not defined","stack":"ReferenceError: product is not defined\n    at updateProduct (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/product.controller.js:215:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error...  Cannot read properties of undefined (reading 'error')","stack":"TypeError: Cannot read properties of undefined (reading 'error')\n    at agregaProductoAlCarrito (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/cart.controller.js:67:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"Error al intentar actualizar el carrito"}
{"level":"error","message":"Error al intentar actualizar el carrito"}
{"level":"error","message":"Error al intentar actualizar el carrito"}
{"level":"error","message":"Error al intentar actualizar el carrito"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"6634ec24759964118463c86d3\" (type string) at path \"_id\" for model \"carts\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"6634ec24759964118463c86d3\"","value":"6634ec24759964118463c86d3","valueType":"string"}
{"level":"error","message":"Error al intentar eliminar el producto del carrito."}
{"level":"error","message":"Error al intentar eliminar el producto del carrito."}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"6634ec24759964118463c86d4\" (type string) at path \"_id\" for model \"carts\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"6634ec24759964118463c86d4\"","value":"6634ec24759964118463c86d4","valueType":"string"}
{"level":"fatal","message":"Petición con fatal"}
{"level":"error","message":"Petición con error"}
{"level":"fatal","message":"Petición fatal"}
{"level":"error","message":"Petición error"}
{"level":"error","message":"Error,  jwt is not defined","stack":"ReferenceError: jwt is not defined\n    at recoverPasswd2 (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:68:19)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"Error,  vvc is not defined","stack":"ReferenceError: vvc is not defined\n    at recoverPasswd2 (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:69:1)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"Error,  Cannot read properties of undefined (reading 'emailReceiver')","stack":"TypeError: Cannot read properties of undefined (reading 'emailReceiver')\n    at recoverPasswd2 (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:72:60)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"Error,  Cannot read properties of undefined (reading 'emailReceiver')","stack":"TypeError: Cannot read properties of undefined (reading 'emailReceiver')\n    at recoverPasswd2 (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:70:55)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"Error,  Cannot read properties of undefined (reading 'emailReceiver')","stack":"TypeError: Cannot read properties of undefined (reading 'emailReceiver')\n    at recoverPasswd2 (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:70:55)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"Error,  Cannot read properties of undefined (reading 'user')","stack":"TypeError: Cannot read properties of undefined (reading 'user')\n    at recoverPasswd2 (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:70:53)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":"Los mails no coinciden."}
{"level":"error","message":"Los mails no coinciden."}
{"level":"error","message":"Los emails no coinciden."}
{"level":"error","message":"Los emails no coinciden."}
{"level":"error","message":"Error al cambiar el rol del usuario: this.userService.findById is not a function","stack":"TypeError: this.userService.findById is not a function\n    at updateUserRole (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:89:49)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"error","message":"Error usuario no encontrado o el formato del id no es válido."}
{"level":"error","message":"Error usuario no encontrado o el formato del id no es válido."}
{"level":"error","message":"Error usuario no encontrado o el formato del id no es válido."}
{"level":"error","message":"Error usuario no encontrado o el formato del id no es válido."}
{"level":"error","message":"Error usuario no encontrado o el formato del id no es válido."}
{"level":"error","message":"Error usuario no encontrado o el formato del id no es válido."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"Error de registro:  Cannot access 'first_name' before initialization","stack":"ReferenceError: Cannot access 'first_name' before initialization\n    at register (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:159:21)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:47:12)"}
{"level":"error","message":401}
{"level":"error","message":401}
{"level":"error","message":"Error, no se pudo agregar el carrito al usuario."}
{"level":"error","message":"Error, no se pudo agregar el carrito al usuario."}
{"level":"error","message":["65d0325d85a2ed7cf68b7030","6641616fc2e50c062c0cd5b1"]}
{"level":"error","message":["65d0325d85a2ed7cf68b7030","6641616fc2e50c062c0cd5b1"]}
{"level":"error","message":["65d0325d85a2ed7cf68b7030","6641616fc2e50c062c0cd5b1"]}
{"level":"error","message":"Error al intentar actualizar el carrito"}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"Carrito no encontrado."}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El producto no pudo ser agregado al carrito."}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"El carrito no existe"}
{"level":"error","message":"Error de registro:  Assignment to constant variable.","stack":"TypeError: Assignment to constant variable.\n    at register (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:165:10)"}
{"_message":"users validation failed","errors":{"role":{"kind":"enum","message":"`public` is not a valid enum value for path `role`.","name":"ValidatorError","path":"role","properties":{"enumValues":["USER","ADMIN","PREMIUM","PUBLIC"],"message":"`public` is not a valid enum value for path `role`.","path":"role","type":"enum","value":"public"},"value":"public"}},"level":"error","message":"Error de registro:  users validation failed: role: `public` is not a valid enum value for path `role`.","stack":"ValidationError: users validation failed: role: `public` is not a valid enum value for path `role`.\n    at Document.invalidate (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\mongoose\\lib\\document.js:3201:32)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\mongoose\\lib\\document.js:2994:17\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"error: newUser is not defined","stack":"ReferenceError: newUser is not defined\n    at file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/routing/email.routes.js:59:87\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error de registro:  last_connection is not defined","stack":"ReferenceError: last_connection is not defined\n    at register (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:179:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error de registro:  last_connection is not defined","stack":"ReferenceError: last_connection is not defined\n    at register (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:179:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error de registro:  last_connection is not defined","stack":"ReferenceError: last_connection is not defined\n    at register (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:179:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error de registro:  last_connection is not defined","stack":"ReferenceError: last_connection is not defined\n    at register (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:179:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error de registro:  last_connection is not defined","stack":"ReferenceError: last_connection is not defined\n    at register (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/session.controller.js:180:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error:  handleResponse is not defined","stack":"ReferenceError: handleResponse is not defined\n    at getUsers (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:19:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error:  handleResponse is not defined","stack":"ReferenceError: handleResponse is not defined\n    at getUsers (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:19:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error:  Cannot read properties of undefined (reading 'forEach')","stack":"TypeError: Cannot read properties of undefined (reading 'forEach')\n    at UserController.handleResponse (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:117:24)\n    at getUsers (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:17:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error:  userData.forEach is not a function","stack":"TypeError: userData.forEach is not a function\n    at getUserById (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:36:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error al intentar cambiar el rol del usuario: this.userService.getUserEmailByEmail is not a function","stack":"TypeError: this.userService.getUserEmailByEmail is not a function\n    at updateUserRole (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:104:49)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"error","message":"Error al intentar cambiar el rol del usuario: this.userService.getUserEmailByEmail is not a function","stack":"TypeError: this.userService.getUserEmailByEmail is not a function\n    at updateUserRole (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:104:49)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"error","message":"Error al intentar cambiar el rol del usuario: Uid is not defined","stack":"ReferenceError: Uid is not defined\n    at updateUserRole (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:102:46)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:421:3)"}
{"level":"error","message":"Error al intentar cambiar el rol del usuario: conso is not defined","stack":"ReferenceError: conso is not defined\n    at updateUserRole (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:97:11)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:421:3)"}
{"level":"error","message":"Error al intentar cambiar el rol del usuario: console.leg is not a function","stack":"TypeError: console.leg is not a function\n    at updateUserRole (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:97:19)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at param (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\Programacion_BackEnd\\coderhouse-back_end\\proyecto\\node_modules\\express\\lib\\router\\index.js:421:3)"}
{"level":"error","message":"Error al intentar cambiar el rol del usuario: user.save is not a function","stack":"TypeError: user.save is not a function\n    at updateUserRole (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:121:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error al intentar cambiar el rol del usuario: user.save is not a function","stack":"TypeError: user.save is not a function\n    at updateUserRole (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:118:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error al intentar cambiar el rol del usuario: user.save is not a function","stack":"TypeError: user.save is not a function\n    at updateUserRole (file:///D:/Programacion_BackEnd/coderhouse-back_end/proyecto/src/controlador/user.controller.js:118:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
